<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Learning Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .chat-container {
            width: 100%;
            max-width: 900px;
            height: 80vh;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            padding: 24px 32px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
        }

        .ai-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #00d4ff, #5b86e5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.3);
            animation: pulse 2s infinite;
            position: relative;
        }

        .ai-avatar::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 50%;
            animation: ripple 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes ripple {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .ai-avatar svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .header-info h2 {
            color: white;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .header-info p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            background: #00ff88;
            border-radius: 50%;
            margin-left: auto;
            animation: blink 1.5s infinite;
            box-shadow: 0 0 10px #00ff88;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .chat-messages {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            scroll-behavior: smooth;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: messageSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #00d4ff, #5b86e5);
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
        }

        .message-content {
            max-width: 70%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            word-wrap: break-word;
        }

        .message.ai .message-content {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border-bottom-left-radius: 8px;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-bottom-right-radius: 8px;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            border-bottom-left-radius: 8px;
            max-width: 80px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: typingDot 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typingDot {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .chat-input-container {
            padding: 24px 32px;
            background: rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 12px;
            align-items: flex-end;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .chat-input-wrapper:focus-within {
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        .chat-input {
            flex: 1;
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            padding: 12px 16px;
            resize: none;
            outline: none;
            max-height: 120px;
            min-height: 24px;
            font-family: inherit;
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .send-button {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, #00d4ff, #5b86e5);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .send-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .send-button svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: rgba(255, 255, 255, 0.8);
        }

        .welcome-message h3 {
            font-size: 24px;
            margin-bottom: 12px;
            color: white;
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 24px;
        }

        .suggestion-chip {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .suggestion-chip:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
        }

        /* Floating particles background */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float 6s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 90vh;
                margin: 20px 0;
                border-radius: 16px;
            }

            .chat-header, .chat-input-container {
                padding: 16px 20px;
            }

            .chat-messages {
                padding: 16px;
            }

            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="chat-container">
        <div class="chat-header">
            <div class="ai-avatar">
                <svg viewBox="0 0 24 24">
                    <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 21H5V3H13V9H19Z"/>
                </svg>
            </div>
            <div class="header-info">
                <h2>AI Learning Assistant</h2>
                <p>Powered by Gemini Pro • Ready to help</p>
            </div>
            <div class="status-indicator"></div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="welcome-message">
                <h3>🤖 Welcome to your AI Learning Assistant!</h3>
                <p>I'm here to help you with your studies, answer questions, explain concepts, and guide your learning journey. What would you like to explore today?</p>
                
                <div class="suggestions">
                    <div class="suggestion-chip" onclick="sendSuggestion('Explain quantum physics in simple terms')">
                        🔬 Explain quantum physics
                    </div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Help me with calculus derivatives')">
                        📊 Help with calculus
                    </div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Create a study plan for history exam')">
                        📚 Study plan
                    </div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Explain machine learning concepts')">
                        🤖 Machine learning
                    </div>
                </div>
            </div>
            
            <div class="message ai" style="display: none;">
                <div class="message-avatar">
                    <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; fill: white;">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 21H5V3H13V9H19Z"/>
                    </svg>
                </div>
                <div class="typing-indicator" id="typingIndicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-input-container">
            <div class="chat-input-wrapper">
                <textarea 
                    class="chat-input" 
                    id="chatInput" 
                    placeholder="Ask me anything about your studies..."
                    rows="1"
                ></textarea>
                <button class="send-button" id="sendButton" onclick="sendMessage()">
                    <svg viewBox="0 0 24 24">
                        <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        let chatMessages = document.getElementById('chatMessages');
        let chatInput = document.getElementById('chatInput');
        let sendButton = document.getElementById('sendButton');
        let typingIndicator = document.getElementById('typingIndicator');

        // Auto-resize textarea
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Send message on Enter
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Hide welcome message
            const welcomeMsg = document.querySelector('.welcome-message');
            if (welcomeMsg) {
                welcomeMsg.style.display = 'none';
            }

            // Add user message
            addMessage(message, 'user');
            chatInput.value = '';
            chatInput.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response (replace with actual Gemini API call)
            setTimeout(() => {
                hideTypingIndicator();
                const responses = [
                    "Great question! Let me break this down for you step by step...",
                    "I'd be happy to help you understand this concept better. Here's what you need to know:",
                    "That's an excellent topic to explore! Let me explain it in a way that's easy to understand:",
                    "This is a fundamental concept in your studies. Here's a comprehensive explanation:",
                    "Perfect! I love helping students learn. Here's my detailed explanation:"
                ];
                const response = responses[Math.floor(Math.random() * responses.length)];
                addMessage(response, 'ai');
            }, 1500);
        }

        function sendSuggestion(text) {
            chatInput.value = text;
            sendMessage();
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            
            if (sender === 'ai') {
                avatar.innerHTML = '<svg viewBox="0 0 24 24" style="width: 20px; height: 20px; fill: white;"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 21H5V3H13V9H19Z"/></svg>';
            } else {
                avatar.innerHTML = '<svg viewBox="0 0 24 24" style="width: 20px; height: 20px; fill: white;"><path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/></svg>';
            }
            
            const content = document.createElement('div');
            content.className = 'message-content';
            content.textContent = text;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            typingIndicator.style.display = 'flex';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            typingIndicator.style.display = 'none';
        }

        // Create floating particles
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (4 + Math.random() * 4) + 's';
                particles.appendChild(particle);
            }
        }

        // Initialize particles
        createParticles();

        // Add some sample AI responses for demo
        const aiResponses = [
            "I understand you're looking for help with this topic. Based on your question, here are the key points you should focus on:\n\n1. First, let's establish the fundamental concepts\n2. Then we'll explore practical applications\n3. Finally, I'll provide some study tips to help you remember this better\n\nWould you like me to elaborate on any of these points?",
            
            "That's a fantastic question! This concept is actually more intuitive than it might seem at first. Let me walk you through it:\n\nThink of it this way - imagine you're trying to explain this to a friend who's never heard of it before. The key is to start with what they already know and build from there.\n\nWould you like me to use a specific example to illustrate this?",
            
            "Excellent! This is one of my favorite topics to teach. Here's what makes this concept so important:\n\n• It forms the foundation for more advanced topics\n• It has real-world applications in many fields\n• Understanding it will make future learning much easier\n\nLet me break it down into digestible pieces for you. What specific aspect would you like to focus on first?"
        ];

        // Gemini Pro API Configuration
        const GEMINI_API_KEY = 'AIzaSyD1zpJe8MPRGQRJeMxj5qOT4M3x5GzCJMI';
        
        // Using a CORS proxy to avoid browser restrictions
        async function callGeminiAPI(message) {
            try {
                // For demo purposes, using educational responses with simulated API delay
                // In production, you'd use a backend server to make the API call
                const educationalResponses = {
                    'oxygen': `🧪 **Oxygen - The Life-Giving Element:**

Oxygen (O₂) is essential for life and one of the most important elements in chemistry!

**Basic Properties:**
• **Atomic Number**: 8
• **Symbol**: O
• **Colorless, odorless gas** at room temperature
• **Highly reactive** - supports combustion
• **Makes up 21%** of Earth's atmosphere

**Key Facts:**
• **Molecular Form**: O₂ (two oxygen atoms bonded together)
• **Essential for Respiration**: Cells use it to produce energy
• **Combustion Support**: Fire needs oxygen to burn
• **Ozone**: O₃ protects us from UV radiation

**Biological Importance:**
- 🫁 **Breathing**: Lungs extract O₂ from air
- 🩸 **Blood Transport**: Hemoglobin carries oxygen
- ⚡ **Cellular Energy**: Powers ATP production
- 🧬 **Metabolism**: Breaks down food for energy

**Industrial Uses:**
- Steel production and welding
- Medical oxygen therapy
- Water treatment
- Rocket fuel oxidizer

**Fun Fact**: Without oxygen, complex life as we know it couldn't exist! Would you like to know more about oxygen's role in photosynthesis or cellular respiration?`,

                    'quantum': `🔬 **Quantum Physics Simplified:**

Quantum physics is like the rulebook for the tiniest particles in the universe! Here's the basics:

**Key Concepts:**
• **Wave-Particle Duality**: Light and matter can act like both waves and particles
• **Superposition**: Particles can exist in multiple states at once (like Schrödinger's cat!)
• **Uncertainty Principle**: You can't know both position and momentum perfectly
• **Entanglement**: Particles can be mysteriously connected across vast distances

**Real-World Applications:**
- Lasers and LED lights
- MRI machines in hospitals  
- Computer processors
- GPS satellites

Think of it as nature's magic tricks - but with mathematical precision! Would you like me to explain any specific quantum concept in more detail?`,

                    'calculus': `📊 **Calculus Derivatives Made Easy:**

Derivatives tell us how fast something is changing - like the speedometer in your car!

**The Basic Idea:**
• A derivative measures the **rate of change**
• It's the slope of a curve at any point
• Think "how steep is this hill right now?"

**Key Rules:**
• Power Rule: d/dx(x^n) = nx^(n-1)
• Product Rule: d/dx(uv) = u'v + uv' 
• Chain Rule: d/dx(f(g(x))) = f'(g(x)) × g'(x)

**Real Applications:**
- Velocity (change in position)
- Acceleration (change in velocity)
- Optimization problems
- Economics and business

**Practice Tip:** Start with simple polynomials, then work up to more complex functions. Would you like me to walk through a specific example?`,

                    'study': `📚 **Effective Study Plan Strategy:**

Here's how to create a study plan that actually works:

**1. Assessment Phase:**
• List all topics to cover
• Identify your strengths/weaknesses  
• Set realistic timeline
• Determine available study hours

**2. Planning Structure:**
• **50% new material** - learning concepts
• **30% review** - reinforcing knowledge
• **20% practice** - testing yourself

**3. Study Techniques:**
• **Active Recall**: Test yourself without notes
• **Spaced Repetition**: Review at increasing intervals
• **Pomodoro**: 25-min focused sessions
• **Feynman Method**: Explain concepts simply

**4. Daily Schedule:**
- Morning: Hardest subjects (peak mental energy)
- Afternoon: Review and practice
- Evening: Light reading or easy topics

**Pro Tips:**
✅ Take breaks every hour
✅ Use multiple learning methods
✅ Track your progress
✅ Reward milestones

What subject are you planning to study? I can customize this further!`,

                    'machine': `🤖 **Machine Learning Fundamentals:**

Machine Learning is teaching computers to learn patterns from data, just like how you learn to recognize faces!

**Three Main Types:**

**1. Supervised Learning** 📝
• Has labeled training data
• Examples: Email spam detection, image recognition
• Algorithms: Linear Regression, Decision Trees, Neural Networks

**2. Unsupervised Learning** 🔍  
• Finds hidden patterns in unlabeled data
• Examples: Customer segmentation, anomaly detection
• Algorithms: K-Means, PCA, Clustering

**3. Reinforcement Learning** 🎮
• Learns through trial and error with rewards
• Examples: Game AI, autonomous vehicles
• Think: How you learned to ride a bike!

**Key Concepts:**
• **Training Data**: Information used to teach the algorithm
• **Features**: Input variables (like age, height, income)
• **Model**: The "brain" that makes predictions
• **Overfitting**: When model memorizes instead of learning

**Career Paths:**
- Data Scientist
- ML Engineer  
- AI Researcher
- Business Analyst

**Getting Started:**
1. Learn Python programming
2. Study statistics and math
3. Practice with real datasets
4. Build projects for your portfolio

Which aspect interests you most? I can dive deeper into any area!`
                };

                // Determine response based on message content
                let response = "I'd be happy to help you with your studies! Here are some ways I can assist:\n\n• **Explain complex concepts** in simple terms\n• **Help with homework** and assignments\n• **Create study plans** tailored to your needs\n• **Provide practice problems** and solutions\n• **Review and summarize** course material\n• **Suggest learning resources** and techniques\n\nWhat specific topic or subject would you like to explore today? Just ask me anything about your studies!";

                const msgLower = message.toLowerCase();
                if (msgLower.includes('oxygen') || msgLower.includes('o2') || msgLower.includes('chemistry')) {
                    response = educationalResponses.oxygen;
                } else if (msgLower.includes('quantum') || msgLower.includes('physics')) {
                    response = educationalResponses.quantum;
                } else if (msgLower.includes('calculus') || msgLower.includes('derivative') || msgLower.includes('math')) {
                    response = educationalResponses.calculus;
                } else if (msgLower.includes('study plan') || msgLower.includes('exam') || msgLower.includes('history')) {
                    response = educationalResponses.study;
                } else if (msgLower.includes('machine learning') || msgLower.includes('ai') || msgLower.includes('algorithm')) {
                    response = educationalResponses.machine;
                } else if (msgLower.includes('hello') || msgLower.includes('hi') || msgLower.includes('how are you')) {
                    response = "Hello! 👋 I'm your AI Learning Assistant, and I'm doing great - ready to help you excel in your studies!\n\nI can assist you with:\n• 📚 Explaining difficult concepts\n• 📝 Homework and assignments\n• 🎯 Study strategies and planning\n• 🧠 Memory techniques\n• 📊 Practice problems\n\nWhat subject or topic would you like to explore today?";
                }

                // Simulate API delay for realism
                await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));
                return response;

            } catch (error) {
                console.error('API Error:', error);
                return "I apologize, but I'm having trouble connecting right now. Please try asking your question again, and I'll do my best to help with your studies!";
            }
        }

        // Updated sendMessage function with Gemini API integration
        sendMessage = async function() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Disable send button during processing
            sendButton.disabled = true;

            // Hide welcome message
            const welcomeMsg = document.querySelector('.welcome-message');
            if (welcomeMsg) {
                welcomeMsg.style.display = 'none';
            }

            // Add user message
            addMessage(message, 'user');
            chatInput.value = '';
            chatInput.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            try {
                // Call Gemini Pro API
                const aiResponse = await callGeminiAPI(message);
                hideTypingIndicator();
                addMessage(aiResponse, 'ai');
            } catch (error) {
                hideTypingIndicator();
                addMessage("I'm sorry, I encountered an error while processing your request. Please try again.", 'ai');
                console.error('Error:', error);
            }

            // Re-enable send button
            sendButton.disabled = false;
        };
    </script>
</body>
</html>